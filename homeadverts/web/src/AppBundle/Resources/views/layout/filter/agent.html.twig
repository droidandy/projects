{% from 'AppBundle:layout/filter:_select.html.twig' import ha_sidebar_select %}
{% set action = path('ha_user_search', {
    'user_type':user_type,
    'id': search.location.id,
    'slug': search.location.slug
})
%}

<nav id="sidebar-menu" class="mp-overlap">
    <div id="sidebar-filters" class="mp-level root-level">
        <form method="get" action="{{ action }}">
            <h2>Filter By</h2>
            <ul class="separator">
                <li>
                    {{ ha_sidebar_select(form.user_type) }}
                </li>
                <li>
                    {{ ha_sidebar_select(form.sort) }}
                </li>

                {% if json_url is defined and json_url is not empty %}
                    <li>
                        {% include "AppBundle:layout/filter:_map.html.twig" %}
                    </li>
                {% endif %}
            </ul>
            <button class="reset-and-close mdl-button mdl-js-button mdl-js-ripple-effect">
                Reset
            </button>
        </form>
    </div>
</nav>
